<%= turbo_frame_tag 'onboarding_modal_content', class: 'modal-content onboarding-modal-content' do %>
  <div class="onboarding-modal-header d-flex justify-content-between align-items-center">
    <div class="onboarding-modal-brand">OROSHI</div>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
  </div>

  <div class="onboarding-modal-body">
    <div class="onboarding-modal-card">
      <%= form_with url: oroshi_onboarding_path(@step, modal: true), method: :patch, id: "onboarding-form", data: { turbo: false } do |f| %>
        <% partial_path = "oroshi/onboarding/steps/#{@step}" %>
        <% if lookup_context.template_exists?(partial_path, [], true) %>
          <%= render partial: partial_path, locals: { f: f } %>
        <% else %>
          <div class="text-center py-4">
            <p class="text-muted mb-0"><%= t('common.messages.loading') %></p>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>

  <div class="onboarding-modal-footer">
    <button type="button" class="btn btn-onboarding-modal-close" data-bs-dismiss="modal">
      <i class="bi bi-x-lg me-1"></i>
      <%= t('oroshi.onboarding.buttons.close') %>
    </button>

    <button type="submit" form="onboarding-form" class="btn btn-onboarding-modal-save">
      <%= t('oroshi.onboarding.buttons.save_and_close') %>
    </button>
  </div>
<% end %>
