<%= turbo_frame_tag 'supply_entry_frame' do %>
<%= turbo_stream_from [@supply_date, @supplier_organization, @supply_reception_time, :supplies_list] %>
<div class="d-flex justify-content-center mb-3">
    <%= form_tag '',
                  class: 'px-3 pt-1 rounded bg-light border',
                  id: 'price-toggle-form',
                  data: {
                  action: 'change->oroshi--supplies--supply-date#priceToggle',
                  target_frame: frame_id(@supply_date, @supplier_organization, @supply_reception_time)
                  } do %>
    <div class="form-check form-switch d-flex flex-nowrap gap-1">
        <input class="form-check-input" type="checkbox" id="toggle-button">
        <label class="form-check-label text-nowrap" for="toggle-button">値段表示</label>
    </div>
    <% end %>
</div>
<div class="d-flex flex-column flex-lg-row">
    <%= render partial: 'oroshi/supply_dates/entry/left_column_headers' %>
    <%= render partial: 'oroshi/supply_dates/entry/supplier_columns' %>
    <%= render partial: 'oroshi/supply_dates/entry/supply_type_subtotals_column' %>
</div>
<% end %>
<% if @supplies.empty? %>
<script>
    const loadingOverlay = document.querySelector('.loading_overlay');
    if (loadingOverlay) {
        loadingOverlay.remove();
    }
</script>
<% end %>