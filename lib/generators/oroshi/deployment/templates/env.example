# Deployment Configuration
KAMAL_HOST=your.server.ip.address
KAMAL_DOMAIN=<%= @domain %>

# Docker Registry
<% if @registry.include?('ecr') -%>
AWS_ECR_REGISTRY=<%= @registry %>
<% else -%>
DOCKER_USERNAME=your_username
<% end -%>

# Database Configuration
POSTGRES_USER=<%= @app_name %>
POSTGRES_PASSWORD=change_me_to_strong_password
DB_HOST=<%= @app_name %>-db
DB_PORT=5432

# Rails Environment
RAILS_ENV=production
RACK_ENV=production
RAILS_MAX_THREADS=5

# Rails Secrets (generate with: bin/rails secret)
SECRET_KEY_BASE=
RAILS_MASTER_KEY=

# Active Record Encryption (generate with: bin/rails db:encryption:init)
ACTIVE_RECORD_ENCRYPTION_PRIMARY_KEY=
ACTIVE_RECORD_ENCRYPTION_DETERMINISTIC_KEY=
ACTIVE_RECORD_ENCRYPTION_KEY_DERIVATION_SALT=

# Devise Secret Key (generate with: bin/rails secret)
DEVISE_KEY=

# Email Configuration (Resend)
RESEND_API_KEY=re_your_api_key_here
MAIL_SENDER=noreply@<%= @domain %>

# Google Cloud Storage (for file uploads and backups)
GCLOUD_PROJECT=your-gcp-project-id
GCLOUD_BUCKET=your-bucket-name
GBUCKET_PREFIX=<%= @app_name %>-db-backups
GCS_CREDENTIALS_FILE=gcs-credentials.json
GCLOUD_CREDENTIALS_PATH=/rails/config/gcloud/credentials.json

# SSL Certificates (Cloudflare Origin Certificates)
# For multi-line values, store in .kamal/secrets file
CLOUDFLARE_SSL_CERT_PEM=
CLOUDFLARE_SSL_KEY_PEM=

# Application Settings
WEB_CONCURRENCY=1
RAILS_SERVE_STATIC_FILES=true
RAILS_LOG_TO_STDOUT=true

# Optional: Skip tests during deployment
# SKIP_TESTS=true
