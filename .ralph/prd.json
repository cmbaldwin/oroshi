{
  "project": "Oroshi",
  "branchName": "ralph/installation-testing",
  "description": "Installation Testing & Route Refactoring - Remove dual route files to fix asset loading and add automated testing for gem installation in fresh Rails apps",
  "userStories": [
    {
      "id": "US-001",
      "title": "Remove dual route files",
      "description": "As a Rails engine maintainer, I want to use a single route file pattern so that asset loading works correctly and follows industry standards.",
      "acceptanceCriteria": [
        "Delete config/routes_standalone_app.rb",
        "Move all routes to config/routes.rb in engine namespace",
        "Move Devise routes from standalone to engine routes",
        "No references to routes_standalone_app.rb in codebase",
        "All tests pass",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "COMPLETE - Deleted routes_standalone_app.rb and routes_oroshi_engine.rb. Updated routes.rb comments and simplified gemspec. Engine routes verified loading correctly (261 routes). Tests confirmed working."
    },
    {
      "id": "US-002",
      "title": "Update sandbox generation script",
      "description": "As a developer working on Oroshi, I want the sandbox to generate its own routes file so that sandbox is a true separate Rails application.",
      "acceptanceCriteria": [
        "Update bin/sandbox script",
        "Script generates sandbox/config/routes.rb with engine mount",
        "Routes file not copied from gem",
        "Sandbox generation creates complete working app",
        "bin/sandbox script documented with comments",
        "Sandbox works when created",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "COMPLETE - Fixed port inconsistency (3000 -> 3001) in bin/sandbox script and lib/tasks/sandbox.rake. Verified sandbox creates correctly with generated routes.rb (not copied). Routes load with engine mounted at /oroshi. All tests pass."
    },
    {
      "id": "US-003",
      "title": "Update test environment configuration",
      "description": "As a developer running tests, I want tests to use engine routes directly so that tests don't have route/asset loading conflicts.",
      "acceptanceCriteria": [
        "Review test/test_helper.rb for standalone route loading",
        "Remove any loading of routes_standalone_app.rb",
        "System tests use engine routes via oroshi.* helpers",
        "All existing tests pass after changes",
        "No asset loading errors in test output",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": "COMPLETE - Verified test environment configuration. No routes_standalone_app.rb references in test directory. test_helper.rb and application_system_test_case.rb properly use Oroshi::Engine.routes.url_helpers via oroshi helper method. All tests pass (controller: 26, integration: 11, system: 4). No asset loading errors. Rubocop clean."
    },
    {
      "id": "US-004",
      "title": "Verify oroshi-moab installation works",
      "description": "As a user installing Oroshi in a Rails app, I want installation to work correctly so that I can use Oroshi in my application.",
      "acceptanceCriteria": [
        "Clone/update oroshi-moab project",
        "Run bundle install successfully",
        "Run rails generate oroshi:install successfully",
        "Run rails db:migrate successfully",
        "Start server and visit /oroshi - dashboard loads",
        "Assets load correctly (CSS and JavaScript)",
        "No console errors",
        "Document any additional setup steps discovered"
      ],
      "priority": 4,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Update documentation for route pattern",
      "description": "As a contributor or user, I want documentation to explain the route configuration so that I understand the architecture and don't reintroduce dual routes.",
      "acceptanceCriteria": [
        "README.md updated with architecture section explaining engine routes",
        "CLAUDE.md updated with route pattern explanation",
        ".ralph/prompt.md updated with route gotcha",
        "REALIZATIONS.md entry added about single route file pattern",
        "Comment in config/routes.rb explaining engine namespace",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Create install generator",
      "description": "As a user installing Oroshi, I want a generator that sets up everything automatically so that I don't have to manually configure the gem.",
      "acceptanceCriteria": [
        "Generator at lib/generators/oroshi/install/install_generator.rb created",
        "Generator copies migrations",
        "Generator creates initializer at config/initializers/oroshi.rb",
        "Generator adds mount Oroshi::Engine to config/routes.rb",
        "Generator runs db:migrate",
        "Generator loads Solid schemas (queue, cache, cable)",
        "Generator shows helpful next steps message",
        "Generator has comprehensive comments",
        "Typecheck passes"
      ],
      "priority": 6,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Create generator tests",
      "description": "As a maintainer, I want automated tests for the install generator so that I know the generator works correctly.",
      "acceptanceCriteria": [
        "Test file at test/lib/generators/oroshi/install_generator_test.rb created",
        "Test verifies initializer created",
        "Test verifies routes updated",
        "Test verifies migrations copied",
        "Tests use Rails::Generators::TestCase",
        "Tests follow Test::Unit patterns (not RSpec)",
        "All generator tests pass",
        "Typecheck passes"
      ],
      "priority": 7,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Add README installation instructions",
      "description": "As a user, I want clear installation instructions so that I can install Oroshi correctly.",
      "acceptanceCriteria": [
        "README.md has complete Installation section",
        "Step-by-step instructions provided",
        "Solid schema setup documented",
        "Multi-database configuration explained",
        "Troubleshooting section added",
        "Common errors documented with solutions",
        "Instructions tested in fresh Rails app",
        "Typecheck passes"
      ],
      "priority": 8,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "Create CI installation test",
      "description": "As a maintainer, I want automated CI tests for installation so that installation issues are caught before release.",
      "acceptanceCriteria": [
        "GitHub Actions workflow created at .github/workflows/installation.yml",
        "Workflow tests Rails 7.1 and 8.0",
        "Workflow tests Ruby 3.2 and 3.3",
        "Workflow creates fresh Rails app",
        "Workflow installs Oroshi",
        "Workflow verifies installation succeeded",
        "Workflow runs on push to main/develop",
        "Workflow runs on pull requests",
        "Typecheck passes"
      ],
      "priority": 9,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "Create installation verification command",
      "description": "As a user, I want a command to verify installation so that I know everything is set up correctly.",
      "acceptanceCriteria": [
        "Rake task oroshi:verify_installation created",
        "Task checks routes mounted correctly",
        "Task checks initializer exists",
        "Task checks databases configured",
        "Task checks migrations run",
        "Task provides helpful output",
        "Task exits with success/failure code",
        "Typecheck passes"
      ],
      "priority": 10,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-011",
      "title": "Test oroshi-moab installation end-to-end",
      "description": "As a QA tester, I want documented proof that oroshi-moab installation works so that we know the refactoring succeeded.",
      "acceptanceCriteria": [
        "Document created at docs/testing/oroshi-moab-installation-test.md",
        "Document has step-by-step test procedure",
        "All steps executed successfully",
        "Screenshots/evidence captured",
        "Any issues found documented",
        "Workarounds (if needed) documented",
        "Test repeatable by others"
      ],
      "priority": 11,
      "passes": false,
      "notes": ""
    }
  ]
}
