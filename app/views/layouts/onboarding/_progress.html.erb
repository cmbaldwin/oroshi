<div class="onboarding-progress">
  <% 
    all_steps = Oroshi::OnboardingController::ALL_STEPS
    current_index = all_steps.index(@step) || 0
    
    # Find current phase
    current_phase = nil
    Oroshi::OnboardingController::STEPS.each do |phase, steps|
      if steps.include?(@step)
        current_phase = phase
        break
      end
    end
  %>
  
  <div class="d-flex align-items-center gap-2">
    <span class="fw-semibold">
      <%= t("oroshi.onboarding.phases.#{current_phase}") if current_phase %>
    </span>
    <span class="opacity-75">
      <%= t('oroshi.onboarding.progress.step', current: current_index + 1, total: all_steps.length) %>
    </span>
  </div>
  
  <%# Progress bar %>
  <div class="mt-2">
    <div class="progress progress-onboarding">
      <div class="progress-bar"
           role="progressbar"
           style="width: <%= ((current_index + 1).to_f / all_steps.length * 100).round %>%;"
           aria-valuenow="<%= current_index + 1 %>"
           aria-valuemin="0"
           aria-valuemax="<%= all_steps.length %>">
      </div>
    </div>
  </div>
</div>
