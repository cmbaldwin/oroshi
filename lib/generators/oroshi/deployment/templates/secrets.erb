# Kamal secrets file
#
# This file contains sensitive credentials for deployment.
# NEVER commit this file to version control!
#
# For production use, consider using 1Password, AWS Secrets Manager, or similar:
# https://kamal-deploy.org/docs/commands/secrets/

# ====== Required Secrets ======

# Rails secrets (generate with: bin/rails secret)
SECRET_KEY_BASE=<%= SecureRandom.hex(64) %>

# Active Record Encryption (generate with: bin/rails db:encryption:init)
ACTIVE_RECORD_ENCRYPTION_PRIMARY_KEY=change_me
ACTIVE_RECORD_ENCRYPTION_DETERMINISTIC_KEY=change_me
ACTIVE_RECORD_ENCRYPTION_KEY_DERIVATION_SALT=change_me

# Database password
POSTGRES_PASSWORD=change_me_to_strong_password

# Devise secret key (generate with: bin/rails secret)
DEVISE_KEY=<%= SecureRandom.hex(64) %>

# ====== SSL Certificates ======
# For Cloudflare Origin Certificates, paste the multi-line content here:
# https://developers.cloudflare.com/ssl/origin-configuration/origin-ca/

CLOUDFLARE_SSL_CERT_PEM=<<-PEM
-----BEGIN CERTIFICATE-----
Your certificate content here
-----END CERTIFICATE-----
PEM

CLOUDFLARE_SSL_KEY_PEM=<<-PEM
-----BEGIN PRIVATE KEY-----
Your private key content here
-----END PRIVATE KEY-----
PEM

# ====== Email Configuration (Resend) ======
RESEND_API_KEY=re_your_api_key_here
MAIL_SENDER=noreply@<%= @domain %>

# ====== Google Cloud Storage ======
# For file uploads and backups
GCLOUD_PROJECT=your-gcp-project-id
GCLOUD_BUCKET=your-bucket-name

# ====== Docker Registry ======
<% if @registry.include?('ecr') -%>
# AWS ECR password (get with: aws ecr get-login-password --region your-region)
AWS_ECR_PASSWORD=$(aws ecr get-login-password --region us-east-1)
<% else -%>
# Docker Hub credentials
DOCKER_USERNAME=your_username
DOCKER_PASSWORD=your_password_or_token
<% end -%>

# ====== Optional: 1Password Integration ======
# Uncomment to use 1Password for secrets management:
# SECRET_KEY_BASE=$(op read "op://vault/item/field")
# POSTGRES_PASSWORD=$(op read "op://vault/database/password")
# etc.
